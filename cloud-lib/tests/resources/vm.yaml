resources:
  - type: compute.v1.instance
    name: {name}-vm
    properties:
      zone: {zone}
      machineType: https://www.googleapis.com/compute/v1/projects/{project_id}/zones/{zone}/machineTypes/n1-standard-8
      disks:
        - deviceName: boot
          type: PERSISTENT
          boot: true
          autoDelete: true
          initializeParams:
            # Replace [FAMILY_NAME] with the image family name.
            # See a full list of image families at https://cloud.google.com/compute/docs/images#os-compute-support
            sourceImage: https://www.googleapis.com/compute/v1/projects/debian-cloud/global/images/family/debian-9
      networkInterfaces:
        - network: https://www.googleapis.com/compute/v1/projects/{project_id}/global/networks/default
          accessConfigs:
            - name: External NAT
              type: ONE_TO_ONE_NAT
